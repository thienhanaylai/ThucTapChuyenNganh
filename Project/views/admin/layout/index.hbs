<div class="container-fluid">
  <div class="d-sm-flex align-items-center justify-content-between mb-4">
    <h1 class="h3 mb-0 text-gray-800">Layout Setting</h1>
  </div>
  {{#if error}}
    <div class="alert alert-danger">{{error}}</div>
  {{/if}}
  {{#if success}}
    <div class="alert alert-success">{{success}}</div>
  {{/if}}
  <form action="/admin/layout" method="POST">
    <div class="row">
      <div class="col-lg-6">
        <div class="card shadow mb-4">
          <div class="card-header py-3">
            <h6 class="m-0 font-weight-bold text-primary">Info Contact</h6>
          </div>
          <div class="card-body">
            <div class="form-group">
              <label>Site Title</label>
              <input type="text" class="form-control" name="siteTitle" value="{{settings.siteTitle}}" />
            </div>
            <div class="form-group">
              <label>Hotline</label>
              <input type="text" class="form-control" name="hotline" value="{{settings.hotline}}" />
            </div>
            <div class="form-group">
              <label>Email contact</label>
              <input type="email" class="form-control" name="email" value="{{settings.email}}" />
            </div>
            <div class="form-group">
              <label>Address</label>
              <input type="text" class="form-control" name="address" value="{{settings.address}}" />
            </div>
          </div>
        </div>

        <div class="card shadow mb-4">
          <div class="card-header py-3">
            <h6 class="m-0 font-weight-bold text-primary">Socials</h6>
          </div>
          <div class="card-body">
            <div class="form-group">
              <label><i class="fab fa-facebook text-primary"></i> Facebook Link</label>
              <input type="text" class="form-control" name="facebook" value="{{settings.socials.facebook}}" />
            </div>
            <div class="form-group">
              <label><i class="fab fa-instagram text-danger"></i> Instagram Link</label>
              <input type="text" class="form-control" name="instagram" value="{{settings.socials.instagram}}" />
            </div>
            <div class="form-group">
              <label><i class="fab fa-twitter text-info"></i> Twitter Link</label>
              <input type="text" class="form-control" name="twitter" value="{{settings.socials.twitter}}" />
            </div>
          </div>
        </div>
      </div>

      <div class="col-lg-6">

        <div class="card shadow mb-4">
          <div class="card-header py-3 d-flex justify-content-between align-items-center">
            <h6 class="m-0 font-weight-bold text-primary">Footer: Quick Shop</h6>
            <button type="button" class="btn btn-sm btn-primary" onclick="addItem('quickShop')">
              <i class="fa fa-plus"></i>
              Add
            </button>
          </div>
          <div class="card-body" id="quickShop-container">
            {{#each settings.quickShops}}
              <div class="row mb-2 align-items-center item-row">
                <div class="col-5">
                  <input
                    type="text"
                    class="form-control form-control-sm"
                    placeholder="Tên (VD: Home)"
                    name="quickShops[{{@index}}][title]"
                    value="{{this.title}}"
                  />
                </div>
                <div class="col-5">
                  <input
                    type="text"
                    class="form-control form-control-sm"
                    placeholder="Link (VD: /home)"
                    name="quickShops[{{@index}}][link]"
                    value="{{this.link}}"
                  />
                </div>
                <div class="col-2 text-center">
                  <button type="button" class="btn btn-danger btn-sm" onclick="removeItem(this)">
                    <i class="fa fa-trash"></i>
                  </button>
                </div>
              </div>
            {{/each}}
          </div>
        </div>

        <div class="card shadow mb-4">
          <div class="card-header py-3 d-flex justify-content-between align-items-center">
            <h6 class="m-0 font-weight-bold text-primary">Footer: My Account</h6>
            <button type="button" class="btn btn-sm btn-primary" onclick="addItem('myAccount')">
              <i class="fa fa-plus"></i>
              Add
            </button>
          </div>
          <div class="card-body" id="myAccount-container">
            {{#each settings.myAccounts}}
              <div class="row mb-2 align-items-center item-row">
                <div class="col-5">
                  <input
                    type="text"
                    class="form-control form-control-sm"
                    placeholder="Tên"
                    name="myAccounts[{{@index}}][title]"
                    value="{{this.title}}"
                  />
                </div>
                <div class="col-5">
                  <input
                    type="text"
                    class="form-control form-control-sm"
                    placeholder="Link"
                    name="myAccounts[{{@index}}][link]"
                    value="{{this.link}}"
                  />
                </div>
                <div class="col-2 text-center">
                  <button type="button" class="btn btn-danger btn-sm" onclick="removeItem(this)">
                    <i class="fa fa-trash"></i>
                  </button>
                </div>
              </div>
            {{/each}}
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-12 text-center mb-5">
        <button type="submit" class="btn btn-success btn-lg px-5">
          <i class="fa fa-save mr-2"></i>
          Save
        </button>
      </div>
    </div>
  </form>
</div>

<script>
  function addItem(type) { const container = document.getElementById(type + '-container'); const index =
  container.children.length; const namePrefix = type === 'quickShop' ? 'quickShops' : 'myAccounts'; const html = ` <div class="row
  mb-2 align-items-center item-row"> <div class="col-5"> <input type="text" class="form-control form-control-sm"
  name="${namePrefix}[${index}][title]"> </div> <div class="col-5"> <input type="text" class="form-control form-control-sm"
  name="${namePrefix}[${index}][link]"> </div> <div class="col-2 text-center"> <button type="button" class="btn btn-danger btn-sm"
  onclick="removeItem(this)"> <i class="fa fa-trash"></i> </button> </div> </div>`; container.insertAdjacentHTML('beforeend',
  html); } function removeItem(button) {const row = button.closest('.item-row'); row.remove(); }
</script>